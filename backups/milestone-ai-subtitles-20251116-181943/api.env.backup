################################################################################
# ClipForge Environment Configuration
# Copy this file to .env and fill in your values
################################################################################

################################################################################
# DATABASE
################################################################################
# PostgreSQL connection string
# Format: postgresql://[user]:[password]@[host]:[port]/[database]
DATABASE_URL=postgresql://clipforge:clipforge@localhost:5432/clipforge_dev

################################################################################
# REDIS
################################################################################
# Redis connection string for caching, rate limiting, and job queues
# Format: redis://[user]:[password]@[host]:[port]/[db]
REDIS_URL=redis://localhost:6379

################################################################################
# STORAGE (S3/R2)
################################################################################
# S3 endpoint URL (use AWS S3 or Cloudflare R2)
# AWS: https://s3.amazonaws.com or https://s3.{region}.amazonaws.com
# R2: https://{account-id}.r2.cloudflarestorage.com
S3_ENDPOINT=http://localhost:9000

# AWS region (e.g., us-east-1, eu-west-1)
S3_REGION=us-east-1

# S3 bucket name for media storage
S3_BUCKET=clipforge

# S3 access key ID
S3_ACCESS_KEY_ID=minioadmin

# S3 secret access key
S3_SECRET_ACCESS_KEY=minioadmin

# CDN URL for serving media (CloudFront, Cloudflare, etc.)
# Example: https://d123456.cloudfront.net
CDN_URL=http://localhost:9000

################################################################################
# BILLING (Stripe)
################################################################################
# Stripe secret key (starts with sk_test_ or sk_live_)
STRIPE_SECRET_KEY=sk_test_xxx

# Stripe publishable key (starts with pk_test_ or pk_live_)
STRIPE_PUBLISHABLE_KEY=pk_test_xxx

# Stripe price ID for minutes-based billing
# Format: price_xxx (e.g., price_1234567890abcdef)
STRIPE_PRICE_MINUTES=price_xxx

# Stripe price ID for exports-based billing
# Format: price_xxx
STRIPE_PRICE_EXPORTS=price_xxx

################################################################################
# OAUTH2 AUTHENTICATION
################################################################################
# Google OAuth2 credentials
# Get from: https://console.cloud.google.com/apis/credentials
OAUTH_GOOGLE_ID=xxx.apps.googleusercontent.com
OAUTH_GOOGLE_SECRET=xxx

# LinkedIn OAuth2 credentials
# Get from: https://www.linkedin.com/developers/apps
OAUTH_LINKEDIN_ID=xxx
OAUTH_LINKEDIN_SECRET=xxx

################################################################################
# API & SECURITY
################################################################################
# JWT secret key for signing tokens (generate with: openssl rand -base64 32)
API_JWT_SECRET=your-super-secret-jwt-key-change-in-prod

# JWT token expiry (e.g., 24h, 7d)
API_JWT_EXPIRY=24h

# Webhook secret key for HMAC signing (generate with: openssl rand -base64 32)
WEBHOOK_SECRET=webhook-secret-key-change-in-prod

# API port
API_PORT=3000

# API host
API_HOST=0.0.0.0

# Node environment
NODE_ENV=development

################################################################################
# ML WORKERS
################################################################################
# ML worker port
ML_WORKER_PORT=8000

# ML worker host
ML_WORKER_HOST=0.0.0.0

# ASR provider: "whisper" (local) or "assemblyai" (cloud)
ASR_PROVIDER=whisper

# AssemblyAI API key (required if ASR_PROVIDER=assemblyai)
# Get from: https://www.assemblyai.com/
ASSEMBLYAI_API_KEY=

# Whisper model size: tiny, base, small, medium, large
WHISPER_MODEL_SIZE=base

# Whisper device: cpu or cuda (for GPU acceleration)
WHISPER_DEVICE=cpu

# Enable CUDA for GPU acceleration (true/false)
CUDA_AVAILABLE=false

################################################################################
# YOUTUBE PUBLISHING
################################################################################
# YouTube Data API key
# Get from: https://console.cloud.google.com/apis/credentials
YOUTUBE_API_KEY=

# YouTube OAuth2 client ID
YOUTUBE_CLIENT_ID=

# YouTube OAuth2 client secret
YOUTUBE_CLIENT_SECRET=

################################################################################
# OBSERVABILITY & MONITORING
################################################################################
# Sentry error tracking DSN
# Get from: https://sentry.io/
SENTRY_DSN=

# OpenTelemetry OTLP exporter endpoint
# Example: http://localhost:4317 (for local Jaeger)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317

# Log level: debug, info, warn, error
LOG_LEVEL=info

################################################################################
# FRONTEND
################################################################################
# Public API URL (accessible from browser)
# Development: http://localhost:3000
# Production: https://api.clipforge.dev
NEXT_PUBLIC_API_URL=http://localhost:3000

# Public app URL (accessible from browser)
# Development: http://localhost:3001
# Production: https://app.clipforge.dev
NEXT_PUBLIC_APP_URL=http://localhost:3001

################################################################################
# OPTIONAL: ADVANCED CONFIGURATION
################################################################################
# Rate limiting: requests per minute per API key
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# Webhook retry configuration
WEBHOOK_MAX_RETRIES=5
WEBHOOK_RETRY_DELAY_MS=1000

# Export cleanup: days before deleting old exports
EXPORT_CLEANUP_DAYS=90

# Analytics retention: days to keep analytics data
ANALYTICS_RETENTION_DAYS=365

# Enable PII scrubbing in logs
ENABLE_PII_SCRUBBING=true

# Enable debug mode (verbose logging)
DEBUG_MODE=false

################################################################################
# DEPLOYMENT-SPECIFIC
################################################################################
# AWS region for deployment
AWS_REGION=us-east-1

# Environment name: development, staging, production
ENVIRONMENT=development

# Application name
APP_NAME=clipforge

# Enable HTTPS redirect
ENABLE_HTTPS_REDIRECT=false

# CORS allowed origins (comma-separated)
CORS_ALLOWED_ORIGINS=http://localhost:3001,http://localhost:3000

# Max upload file size in MB
MAX_UPLOAD_SIZE_MB=1000

# Max video duration in minutes
MAX_VIDEO_DURATION_MINUTES=180
